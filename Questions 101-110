// Q101 - First and last occurrence of target in sorted array (print indices or -1 -1).
#include <stdio.h>
#include <stdlib.h>

int lower_bound(int a[], int n, int x){
    int l=0, r=n;
    while(l<r){
        int m=(l+r)/2;
        if(a[m] < x) l = m+1;
        else r = m;
    }
    return l;
}

int upper_bound(int a[], int n, int x){
    int l=0, r=n;
    while(l<r){
        int m=(l+r)/2;
        if(a[m] <= x) l = m+1;
        else r = m;
    }
    return l;
}

int main_Q101(void){
    int n;
    scanf("%d",&n);
    int *a = malloc(n*sizeof(int));
    for(int i=0;i<n;i++) scanf("%d",&a[i]);
    int target; scanf("%d",&target);

    int lo = lower_bound(a,n,target);
    if(lo == n || a[lo] != target){
        printf("-1 -1\n");
        return 0;
    }
    int hi = upper_bound(a,n,target) - 1;

    printf("%d %d\n", lo, hi);
    return 0;
}
int main(){ return main_Q101(); }

// --------------------------------------------------------------

// Q102 - Ceil of x in sorted array (first index with arr[i] >= x).
#include <stdio.h>

int main_Q102(void){
    int n; scanf("%d",&n);
    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);
    int x; scanf("%d",&x);

    int l=0, r=n;
    while(l<r){
        int m = (l+r)/2;
        if(a[m] < x) l = m+1;
        else r = m;
    }

    if(l == n) printf("-1\n");
    else printf("%d\n", l);

    return 0;
}
int main102(){ return main_Q102(); }

// --------------------------------------------------------------

// Q103 - Pivot index (left sum == right sum).
#include <stdio.h>

int main_Q103(void){
    int n; scanf("%d",&n);
    long long a[n], total=0;
    for(int i=0;i<n;i++){
        scanf("%lld",&a[i]);
        total += a[i];
    }

    long long left=0;
    for(int i=0;i<n;i++){
        long long right = total - left - a[i];
        if(left == right){
            printf("%d\n", i);
            return 0;
        }
        left += a[i];
    }

    printf("-1\n");
    return 0;
}
int main103(){ return main_Q103(); }

// --------------------------------------------------------------

// Q104 - Pivot integer x such that sum(1..x) == sum(x..n).
#include <stdio.h>

int main_Q104(void){
    long long n; scanf("%lld",&n);

    long long total = n*(n+1)/2;

    for(long long x=1; x<=n; x++){
        long long left = x*(x+1)/2;
        long long right = total - (x*(x-1)/2);
        if(left == right){
            printf("%lld\n", x);
            return 0;
        }
    }

    printf("-1\n");
    return 0;
}
int main104(){ return main_Q104(); }

// --------------------------------------------------------------

// Q105 - Majority element (> n/2), else print -1.
#include <stdio.h>

int main_Q105(void){
    int n; scanf("%d",&n);
    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    int cand=0, count=0;
    for(int i=0;i<n;i++){
        if(count==0){ cand=a[i]; count=1; }
        else if(a[i]==cand) count++;
        else count--;
    }

    int occ=0;
    for(int i=0;i<n;i++)
        if(a[i]==cand) occ++;

    if(occ > n/2) printf("%d\n", cand);
    else printf("-1\n");

    return 0;
}
int main105(){ return main_Q105(); }

// --------------------------------------------------------------

// Q106 - Next greater element (brute force, print comma separated).
#include <stdio.h>

int main_Q106(void){
    int n; scanf("%d",&n);
    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    for(int i=0;i<n;i++){
        int next=-1;
        for(int j=i+1;j<n;j++){
            if(a[j] > a[i]){
                next = a[j];
                break;
            }
        }
        printf("%d", next);
        if(i<n-1) printf(",");
    }
    printf("\n");
    return 0;
}
int main106(){ return main_Q106(); }

// --------------------------------------------------------------

// Q107 - Previous greater element (brute force, print comma separated).
#include <stdio.h>

int main_Q107(void){
    int n; scanf("%d",&n);
    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    for(int i=0;i<n;i++){
        int prev=-1;
        for(int j=i-1;j>=0;j--){
            if(a[j] > a[i]){
                prev = a[j];
                break;
            }
        }
        printf("%d", prev);
        if(i<n-1) printf(",");
    }
    printf("\n");
    return 0;
}
int main107(){ return main_Q107(); }

// --------------------------------------------------------------

// Q108 - Product of array except self (no division).
#include <stdio.h>

int main_Q108(void){
    int n; scanf("%d",&n);
    long long a[n];
    for(int i=0;i<n;i++) scanf("%lld",&a[i]);

    long long left[n], right[n];
    left[0] = 1;
    for(int i=1;i<n;i++) left[i] = left[i-1] * a[i-1];

    right[n-1] = 1;
    for(int i=n-2;i>=0;i--) right[i] = right[i+1] * a[i+1];

    for(int i=0;i<n;i++){
        printf("%lld", left[i]*right[i]);
        if(i<n-1) printf(" ");
    }
    printf("\n");
    return 0;
}
int main108(){ return main_Q108(); }

// --------------------------------------------------------------

// Q109 - Maximum sum of all subarrays of size k.
#include <stdio.h>

int main_Q109(void){
    int n,k;
    scanf("%d %d",&n,&k);
    long long a[n];
    for(int i=0;i<n;i++) scanf("%lld",&a[i]);

    if(k>n){ printf("0\n"); return 0; }

    long long sum=0;
    for(int i=0;i<k;i++) sum+=a[i];
    long long best=sum;

    for(int i=k;i<n;i++){
        sum += a[i] - a[i-k];
        if(sum > best) best = sum;
    }

    printf("%lld\n", best);
    return 0;
}
int main109(){ return main_Q109(); }

// --------------------------------------------------------------

// Q110 - Sliding window maximum (O(n) deque).
#include <stdio.h>

int main_Q110(void){
    int n,k; scanf("%d %d",&n,&k);
    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    int dq[n], head=0, tail=0;

    for(int i=0;i<n;i++){
        while(head<tail && dq[head] <= i-k) head++;

        while(head<tail && a[dq[tail-1]] <= a[i]) tail--;

        dq[tail++] = i;

        if(i >= k-1){
            printf("%d", a[dq[head]]);
            if(i<n-1) printf(" ");
        }
    }

    printf("\n");
    return 0;
}
int main110(){ return main_Q110(); }

// --------------------------------------------------------------
